<nz-spin [nzSpinning]="isLoading" [nzDelay]="500" class="mt-20">
  <div class="wrapp-news">
    <div class="container">
      <div class="row-news">
      
        <!-- Hiển thị tin tức -->
        <div class="box-news col-sm-7">
          <div class="flex items-center space-x-2">
           <input
            type="text"
            placeholder=""
            [(ngModel)]="searchKeyword"
            (ngModelChange)="onSearchDebounce($event)"
            class="w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
          />

            <button
              (click)="onSearch()"
              class="px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 transition"
            >
              <i class="fa-solid fa-search"></i>
            </button>
          </div>

          <div class="news-item d-flex rounded " *ngFor="let _new of newsData">
            <div class="d-flex w-100 ">
              <div class="news-img w-full">
                <a [routerLink]="[_new.id]">
                  <img [src]="_new.anhDaiDien" alt="Post Image" class="img-fluid w-100" />
                </a>
              </div>
              <div class="news-content w-full" style="padding-left: 15px;">
                <a [routerLink]="[_new.id]" class="text-decoration-none text-dark">
                  <h3 class="news-title mb-2">{{ _new.ten }}</h3>
                </a>
                <p class="news-date mb-1" style="font-size: 12px;">
                  <i class="fa fa-calendar"></i> {{ _new.ngayDangTin }}
                </p>
                <p class="news-description line-clamp-2" [innerHTML]="_new.moTa"></p>
              </div>
            </div>
          </div>

          <!-- Phân trang -->
          <div class="page_sort_item">
            <div class="item_page_detail">
              <div class="d-flex align-items-center groupSelect">
                <label for="numberSelect" class="form-label">{{ 'show' | translate }}</label>
                <nz-select [(ngModel)]="pageSizes" (ngModelChange)="onPageSizeChange($event)" id="numberSelect">
                @for (size of sizeItems; track $index) {
                <nz-option [nzValue]="size" [nzLabel]="size"></nz-option>
                }
              </nz-select>
              </div>
            </div>
            <div class="item_page_detail">
              <div class="showPage">
                <span>{{ pageIndex }}/{{ totalPages }}</span>
                <button class="btn pre-btn" (click)="onPageChange('prev')" [disabled]="pageIndex === 1">
                  <span class="btnPre" aria-label="Previous">‹</span>
                </button>
                <button class="btn next-btn" (click)="onPageChange('next')" [disabled]="pageIndex === totalPages">
                  <span class="btnPre" aria-label="Next">›</span>
                </button>
              </div>
            </div>
          </div>
        </div>


        <div class="sidebar-news box-news col-sm-5">
          <div class="views-box">
            <h3 class="p-2">{{'qtndtintuc_most_viewed_news' | translate}}</h3>
            <ul>
              <li *ngFor="let _new of newsDataMostViewed" class="shadow rounded p-2">
                <a [routerLink]="[_new.id]">
                  <div class="sidenews-item ">
                    <h4 class="title">{{ _new.ten }}</h4>
                    <span><i class="fa fa-eye"></i> {{ _new.slXem || 0 }} {{'view'|translate}}</span>
                  </div>
                  <div class="sidenews-item">
                    <img [src]="_new.anhDaiDien" alt="sách hay" class="img-fluid" />
                  </div>
                </a>
              </li>
            </ul>
          </div>
        </div>


      </div>
    </div>
  </div>
</nz-spin>