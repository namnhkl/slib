<div class="container mx-auto py-10 px-4">
  <h1 class="text-3xl font-bold text-center text-gray-800 mb-10">
    {{ 'change_password' | translate }}
  </h1>

  <form nz-form [formGroup]="validateForm" (ngSubmit)="onSubmitChangePassword()" 
        class="max-w-2xl mx-auto bg-white rounded-2xl shadow-md space-y-6" style="padding: 10px;">

    <!-- Old Password -->
    <nz-form-item class="flex flex-col sm:flex-row items-start sm:items-center">
      <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="oldPassword" 
                     class="capitalize font-medium text-gray-700 mb-2 sm:mb-0" nzRequired>
        {{ 'old_password' | translate }}
      </nz-form-label>
      <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="'please_input_old_password' | translate" class="w-full">
        <nz-input-group [nzSuffix]="suffixEye1">
          <input nz-input 
                 class="w-full rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 transition-all"
                 [type]="showOldPassword ? 'text' : 'password'" 
                 id="oldPassword" 
                 formControlName="oldPassword" />
        </nz-input-group>
        <ng-template #suffixEye1>
          <i class="fa cursor-pointer text-gray-500 hover:text-blue-600 transition"
             [class.fa-eye-slash]="!showOldPassword" 
             [class.fa-eye]="showOldPassword"
             (click)="showOldPassword = !showOldPassword"></i>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <!-- New Password -->
    <nz-form-item class="flex flex-col sm:flex-row items-start sm:items-center">
      <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="password" 
                     class="capitalize font-medium text-gray-700 mb-2 sm:mb-0" nzRequired>
        {{ 'password' | translate }}
      </nz-form-label>
      <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="errorTplPassword" class="w-full">
        <nz-input-group [nzSuffix]="suffixEye2">
          <input nz-input 
                 class="w-full rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 transition-all"
                 [type]="showPassword ? 'text' : 'password'" 
                 id="password" 
                 formControlName="password" />
        </nz-input-group>
        <ng-template #suffixEye2>
          <i class="fa cursor-pointer text-gray-500 hover:text-blue-600 transition"
             [class.fa-eye-slash]="!showPassword" 
             [class.fa-eye]="showPassword"
             (click)="showPassword = !showPassword"></i>
        </ng-template>
        <ng-template #errorTplPassword let-control>
          @if (control.errors?.['required']) {
            {{ 'please_input_your_password' | translate }}
          }
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <!-- Confirm Password -->
    <nz-form-item class="flex flex-col sm:flex-row items-start sm:items-center">
      <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="checkPassword" 
                     class="capitalize font-medium text-gray-700 mb-2 sm:mb-0" nzRequired>
        {{ 'reenter_password' | translate }}
      </nz-form-label>
      <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="errorTplConfirm" class="w-full">
        <nz-input-group [nzSuffix]="suffixEye3">
          <input nz-input 
                 class="w-full rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 transition-all"
                 [type]="showConfirm ? 'text' : 'password'" 
                 id="checkPassword" 
                 formControlName="checkPassword" />
        </nz-input-group>
        <ng-template #suffixEye3>
          <i class="fa cursor-pointer text-gray-500 hover:text-blue-600 transition"
             [class.fa-eye-slash]="!showConfirm" 
             [class.fa-eye]="showConfirm"
             (click)="showConfirm = !showConfirm"></i>
        </ng-template>
        <ng-template #errorTplConfirm let-control>
          @if (control.errors?.['required']) {
            {{ 'please_confirm_your_password' | translate }}
          }
          @if (control.errors?.['confirm']) {
            {{ 'the_two_passwords_you_entered_are_inconsistent' | translate }}
          }
          @if (control.errors?.['passwordStrength']) {
            {{ 'password_must_contain_uppercase_lowercase_number_special' | translate }}
          }
          @if (control.errors?.['minlength']) {
            {{ 'password_must_be_at_least_6_characters' | translate }}
          }
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <!-- Submit Button -->
    <nz-form-item>
      <nz-form-control [nzSpan]="16" [nzOffset]="8" class="w-full">
        <button nz-button nzType="primary" 
                class="w-full py-2 rounded rounded-lg text-white font-semibold bg-blue-600 hover:bg-blue-700 transition"
                type="submit" 
                [nzLoading]="isLoading" 
                [disabled]="validateForm.invalid">
          {{ 'change_password' | translate }}
        </button>
      </nz-form-control>
    </nz-form-item>

  </form>
</div>
