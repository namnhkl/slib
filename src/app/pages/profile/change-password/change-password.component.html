<nz-icon nzType="menu-fold"></nz-icon>

<div class="container py-10 px-4">
  <h1 class="text-2xl font-semibold text-center mb-6 capitalize">
    {{ 'change_password' | translate }}
  </h1>

  <form nz-form [formGroup]="validateForm" (ngSubmit)="onSubmitChangePassword()" class="max-w-[600px] mx-auto space-y-5">

    <!-- Old Password -->
    <nz-form-item>
      <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="oldPassword" class="capitalize font-medium" nzRequired>
        {{ 'old_password' | translate }}
      </nz-form-label>
      <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="'please_input_old_password' | translate">
        <nz-input-group [nzSuffix]="suffixEye1">
          <input nz-input [type]="showOldPassword ? 'text' : 'password'" id="oldPassword" formControlName="oldPassword" />
        </nz-input-group>
        <ng-template #suffixEye1>
          <i class="fa" [class.fa-eye-slash]="!showOldPassword" [class.fa-eye]="showOldPassword"
             (click)="showOldPassword = !showOldPassword" style="cursor: pointer;"></i>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <!-- New Password -->
    <nz-form-item>
      <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="password" class="capitalize font-medium" nzRequired>
        {{ 'password' | translate }}
      </nz-form-label>
      <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="errorTplPassword">
        <nz-input-group [nzSuffix]="suffixEye2">
          <input nz-input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password" />
        </nz-input-group>
        <ng-template #suffixEye2>
          <i class="fa" [class.fa-eye-slash]="!showPassword" [class.fa-eye]="showPassword"
             (click)="showPassword = !showPassword" style="cursor: pointer;"></i>
        </ng-template>
        <ng-template #errorTplPassword let-control>
          @if (control.errors?.['required']) {
            {{ 'please_input_your_password' | translate }}
          }
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <!-- Confirm Password -->
    <nz-form-item>
      <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="checkPassword" class="capitalize font-medium" nzRequired>
        {{ 'reenter_password' | translate }}
      </nz-form-label>
      <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="errorTplConfirm">
        <nz-input-group [nzSuffix]="suffixEye3">
          <input nz-input [type]="showConfirm ? 'text' : 'password'" id="checkPassword" formControlName="checkPassword" />
        </nz-input-group>
        <ng-template #suffixEye3>
          <i class="fa" [class.fa-eye-slash]="!showConfirm" [class.fa-eye]="showConfirm"
             (click)="showConfirm = !showConfirm" style="cursor: pointer;"></i>
        </ng-template>
        <ng-template #errorTplConfirm let-control>
          @if (control.errors?.['required']) {
            {{ 'please_confirm_your_password' | translate }}
          }
          @if (control.errors?.['confirm']) {
            {{ 'the_two_passwords_you_entered_are_inconsistent' | translate }}
          }
          @if (control.errors?.['passwordStrength']) {
            {{ 'password_must_contain_uppercase_lowercase_number_special' | translate }}
          }
          @if (control.errors?.['minlength']) {
            {{ 'password_must_be_at_least_6_characters' | translate }}
          }
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <!-- Submit Button -->
    <nz-form-item>
      <nz-form-control [nzSpan]="16" [nzOffset]="8">
        <button nz-button nzType="primary" class="w-full font-semibold" type="submit" [nzLoading]="isLoading" [disabled]="validateForm.invalid">
          {{ 'change_password' | translate }}
        </button>
      </nz-form-control>
    </nz-form-item>

  </form>
</div>
